var IsDebug=false;var https_IIS_IP="192.168.199.12";var https_IIS_port="8020";var ws_socket;var ws_url="ws://www.iyplay.com:8866/BaBaLiuLiu?data={'Protocol':3,'Protocol2':1,'OpenID'='ww'}";var ServerID="";var XinTiaoKaiGuan=false;var GameTime=0;function init_socket(){if(IsDebug){ws_url="ws://"+https_IIS_IP+":8866/BaBaLiuLiu?data={'Protocol':3,'Protocol2':1,'OpenID'='ww'}"}var Player_Data=new Object;Player_Data.type="player";Player_Data.type2="FeiJi";Player_Data.Name="";Player_Data.Hp=2000;Player_Data.OpenID="";Player_Data.kuang="90";Player_Data.gao="90";Player_Data.Posx=30;Player_Data.Posy=120;Player_Data.ImgNum=1;Player_Data.ImgDC=new Image();Player_Data.ImgDC.src="img/feijiP.png";Player_Data.XuanZhaun="1";Player_Data.IsHead=false;Player_Data.EntryTX=true;PlayerList.push(Player_Data);var Player_Data2=new Object;Player_Data2.type="player";Player_Data2.type2="Tank";Player_Data2.Name="";Player_Data2.Hp=2000;Player_Data2.OpenID="";Player_Data2.kuang="80";Player_Data2.gao="80";Player_Data2.Posx=20;Player_Data2.Posy=200;Player_Data2.ImgNum=1;Player_Data2.ImgDC=new Image();Player_Data2.ImgDC.src="img/runner-small.png";Player_Data2.XuanZhaun="0";Player_Data2.IsHead=false;Player_Data2.EntryTX=true;PlayerList.push(Player_Data2);var Player_Data21=new Object;Player_Data21.type="d_boss";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=10000;Player_Data21.OpenID="";Player_Data21.kuang="100";Player_Data21.gao="100";Player_Data21.Posx=950;Player_Data21.Posy=350;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/tank.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21);if(true){var Player_Data21=new Object;Player_Data21.type="x_boss";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="60";Player_Data21.gao="60";Player_Data21.Posx=800;Player_Data21.Posy=Math.floor(Math.random()*780);Player_Data21.ImgNum=1;
Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/feiji.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="x_boss_boom";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="30";Player_Data21.gao="30";Player_Data21.Posx=950;Player_Data21.Posy=250;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/d_boss_boom.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="x_boss_boom";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="30";Player_Data21.gao="30";Player_Data21.Posx=950;Player_Data21.Posy=250;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/d_boss_boom.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="JZ_leida";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="70";Player_Data21.gao="70";Player_Data21.Posx=860;Player_Data21.Posy=15;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/role/di_leida/impulsea000.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="JZ_leida";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="70";Player_Data21.gao="70";Player_Data21.Posx=860;Player_Data21.Posy=700;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/role/di_leida/impulsea000.png";
Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="leidabo1";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="50";Player_Data21.gao="120";Player_Data21.Posx=880;Player_Data21.Posy=666;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/leidabo.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="leidabo2";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="50";Player_Data21.gao="120";Player_Data21.Posx=880;Player_Data21.Posy=1;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/leidabo.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="fangkp1";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=925;Player_Data21.Posy=10;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/fangkp.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="fangkp2";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=920;Player_Data21.Posy=660;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/fangkp.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;
PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="xunhd1";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=1120;Player_Data21.Posy=580;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/xunhd.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="xunhd2";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=1110;Player_Data21.Posy=150;Player_Data21.ImgNum=1;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/xunhd.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="player";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=20;Player_Data21.Posy=400;Player_Data21.ImgNum=3;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/runner-small2.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="player";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="110";Player_Data21.gao="110";Player_Data21.Posx=30;Player_Data21.Posy=450;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/feijiP2.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TX_gouhuo";
Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="50";Player_Data21.gao="50";Player_Data21.Posx=1050;Player_Data21.Posy=40;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/texiao/gouhuo/86-1.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TX_baozha";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="60";Player_Data21.gao="60";Player_Data21.Posx=600;Player_Data21.Posy=40;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/texiao/baozha/220000.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="junche";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="60";Player_Data21.gao="60";Player_Data21.Posx=1020;Player_Data21.Posy=10;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/junche.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="junche";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=920;Player_Data21.Posy=720;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/junche1.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="junche";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;
Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="100";Player_Data21.gao="100";Player_Data21.Posx=990;Player_Data21.Posy=700;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/junziyuan.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="AI_Tank";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=1050;Player_Data21.Posy=290;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/role/di1_tank/unittank22base004.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="AI_Tank";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=1050;Player_Data21.Posy=320;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/role/di2_tank/unittank2base004.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TX_gouhuo";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=920;Player_Data21.Posy=160;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/role/di4_diduikong/unitbmr4base004.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TX_gouhuo";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;
Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="80";Player_Data21.gao="80";Player_Data21.Posx=900;Player_Data21.Posy=600;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/role/di3_diduikong/unitbmr3base004.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TK_Boom_AI_1";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="15";Player_Data21.gao="15";Player_Data21.Posx=110;Player_Data21.Posy=110;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/d_boss_boom.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TK_Boom_AI_2";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="15";Player_Data21.gao="15";Player_Data21.Posx=110;Player_Data21.Posy=110;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/d_boss_boom.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TK_Boom_1";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="15";Player_Data21.gao="15";Player_Data21.Posx=-20;Player_Data21.Posy=-20;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/d_boss_boom.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TK_Boom_2";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";
Player_Data21.kuang="15";Player_Data21.gao="15";Player_Data21.Posx=-20;Player_Data21.Posy=-20;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/d_boss_boom.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="FJ_Boom_1";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="15";Player_Data21.gao="15";Player_Data21.Posx=-20;Player_Data21.Posy=-20;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/d_boss_boom_v2.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="FJ_Boom_2";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="15";Player_Data21.gao="15";Player_Data21.Posx=-20;Player_Data21.Posy=-20;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/d_boss_boom_v2.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=true;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TX_baozha0";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="100";Player_Data21.gao="100";Player_Data21.Posx=600;Player_Data21.Posy=40;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/texiao/baozha/220000.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TX_baozha1";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="100";Player_Data21.gao="100";
Player_Data21.Posx=600;Player_Data21.Posy=40;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/texiao/baozha/220000.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TX_baozha14";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="100";Player_Data21.gao="100";Player_Data21.Posx=600;Player_Data21.Posy=40;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/texiao/baozha/220000.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}if(true){var Player_Data21=new Object;Player_Data21.type="TX_baozha15";Player_Data21.type2="";Player_Data21.Name="test2";Player_Data21.Hp=2000;Player_Data21.OpenID="sasdadakdada2";Player_Data21.kuang="60";Player_Data21.gao="60";Player_Data21.Posx=600;Player_Data21.Posy=40;Player_Data21.ImgNum=4;Player_Data21.ImgDC=new Image();Player_Data21.ImgDC.src="img/texiao/baozha/220000.png";Player_Data21.XuanZhaun="0";Player_Data21.IsHead=false;Player_Data21.EntryTX=false;PlayerList.push(Player_Data21)}ws_socket=new WebSocket(ws_url);ws_socket.onopen=function(evt){onOpen(evt)};ws_socket.onclose=function(evt){onClose(evt)};ws_socket.onmessage=function(evt){onMessage(evt)};ws_socket.onerror=function(evt){onError(evt)};return}function onOpen(evt){var myDate=new Date();var Player_Data="";ServerID=myDate.getTime()+myDate.getMilliseconds()+Player_Data;GameTime=ServerID;var EWMTime="http://www.iyplay.com/babaliuliumobi/index.html?Time="+ServerID;if(IsDebug){EWMTime="http://"+https_IIS_IP+":"+https_IIS_port+"/babaliuliumobi/index.html?Time="+ServerID}Auto_QRCode(EWMTime);login()}function onClose(evt){console.log("DISCONNECTED");XinTiaoKaiGuan=false;alert("Link server failed, please refresh the browser relink!");location.href="http://www.babaliuliu.com"
}function onMessage(evt){var data=evt.data;var d=base64decode(data);var zhuana=utf8to16(d);var obj=eval("("+zhuana+")");switch(obj.Protocol2){case 13:if(obj.Type=="4"){alert("Link server failed, please refresh the browser relink!");location.href="http://www.iyplay.com";return}else{if(obj.Type=="3"){ServerID_MD5=obj.StrBaoMing}}break;case 14:var Openid=obj.MuBiaoID;var palyerRole=obj.RoleNum;if(obj.Type=="2"){var Datalist=ChaiFenString(obj.Data,"|");var id=0;if(palyerRole=="1"){id="0"}else{if(palyerRole=="2"){id="1"}else{if(palyerRole=="3"){id="14"}else{if(palyerRole=="4"){id="15"}}}}if(Datalist[0]=="before"){if(id=="0"){PlayerList[id].ImgDC.src="img/role/you1_feiji/unitair11base000.png"}else{if(id=="1"){PlayerList[id].ImgDC.src="img/role/you3_tank/unitbmp2base000.png"}else{if(id=="14"){PlayerList[id].ImgDC.src="img/role/you4_tank/unitcannon3base000.png"}else{if(id=="15"){PlayerList[id].ImgDC.src="img/role/you2_feiji/unitair12base000.png"}}}}PlayerList[id].Posx+=10}else{if(Datalist[0]=="left"){if(id=="0"){PlayerList[id].ImgDC.src="img/role/you1_feiji/unitair11base006.png"}else{if(id=="1"){PlayerList[id].ImgDC.src="img/role/you3_tank/unitbmp2base006.png"}else{if(id=="14"){PlayerList[id].ImgDC.src="img/role/you4_tank/unitcannon3base006.png"}else{if(id=="15"){PlayerList[id].ImgDC.src="img/role/you2_feiji/unitair12base006.png"}}}}PlayerList[id].Posy+=10}else{if(Datalist[0]=="right"){if(id=="0"){PlayerList[id].ImgDC.src="img/role/you1_feiji/unitair11base002.png"}else{if(id=="1"){PlayerList[id].ImgDC.src="img/role/you3_tank/unitbmp2base002.png"}else{if(id=="14"){PlayerList[id].ImgDC.src="img/role/you4_tank/unitcannon3base002.png"}else{if(id=="15"){PlayerList[id].ImgDC.src="img/role/you2_feiji/unitair12base002.png"}}}}PlayerList[id].Posy-=10}else{if(Datalist[0]=="after"){if(id=="0"){PlayerList[id].ImgDC.src="img/role/you1_feiji/unitair11base004.png"}else{if(id=="1"){PlayerList[id].ImgDC.src="img/role/you3_tank/unitbmp2base004.png"}else{if(id=="14"){PlayerList[id].ImgDC.src="img/role/you4_tank/unitcannon3base004.png"
}else{if(id=="15"){PlayerList[id].ImgDC.src="img/role/you2_feiji/unitair12base004.png"}}}}PlayerList[id].Posx-=10}}}}if(Datalist[1]=="true"){}else{}if(Datalist[2]=="true"){if(Datalist[0]=="after"){if(palyerRole=="1"){if(KaiGuan_Feiji1){if(PlayerList["29"].Posy!=-20){break}}if(Is_FaShe_Feiji1){KaiGuan_Feiji1=true;Is_FaShe_Feiji1=false;PlayerList["29"].Posy=PlayerList[id].Posy+32;PlayerList["29"].Posx=PlayerList[id].Posx}}else{if(palyerRole=="2"){if(KaiGuan_Tank5){if(PlayerList["27"].Posy!=-20){break}}if(Is_FaShe_Tank1){KaiGuan_Tank5=true;Is_FaShe_Tank1=false;PlayerList["27"].Posy=PlayerList[id].Posy+32;PlayerList["27"].Posx=PlayerList[id].Posx}}else{if(palyerRole=="3"){if(KaiGuan_Tank7){if(PlayerList["28"].Posy!=-20){break}}if(Is_FaShe_Tank2){KaiGuan_Tank7=true;Is_FaShe_Tank2=false;PlayerList["28"].Posx=PlayerList[id].Posx+5;PlayerList["28"].Posy=PlayerList[id].Posy+15}}else{if(palyerRole=="4"){if(KaiGuan_Feiji5){if(PlayerList["30"].Posy!=-20){break}}if(Is_FaShe_Feiji2){KaiGuan_Feiji5=true;Is_FaShe_Feiji2=false;PlayerList["30"].Posy=PlayerList[id].Posy+32;PlayerList["30"].Posx=PlayerList[id].Posx}}}}}}else{if(Datalist[0]=="right"){if(palyerRole=="1"){if(KaiGuan_Feiji4){if(PlayerList["29"].Posy!=-20){break}}if(Is_FaShe_Feiji1){KaiGuan_Feiji4=true;Is_FaShe_Feiji1=false;PlayerList["29"].Posy=PlayerList[id].Posy+32;PlayerList["29"].Posx=PlayerList[id].Posx+40}}else{if(palyerRole=="2"){if(KaiGuan_Tank1){if(PlayerList["27"].Posy!=-20){break}}if(Is_FaShe_Tank1){KaiGuan_Tank1=true;Is_FaShe_Tank1=false;PlayerList["27"].Posy=PlayerList[id].Posy+20;PlayerList["27"].Posx=PlayerList[id].Posx+32}}else{if(palyerRole=="3"){if(KaiGuan_Tank2){if(PlayerList["28"].Posy!=-20){break}}if(Is_FaShe_Tank2){KaiGuan_Tank2=true;Is_FaShe_Tank2=false;PlayerList["28"].Posy=PlayerList[id].Posy;PlayerList["28"].Posx=PlayerList[id].Posx+32}}else{if(palyerRole=="4"){if(KaiGuan_Feiji8){if(PlayerList["30"].Posy!=-20){break}}if(Is_FaShe_Feiji2){KaiGuan_Feiji8=true;Is_FaShe_Feiji2=false;PlayerList["30"].Posy=PlayerList[id].Posy+32;
PlayerList["30"].Posx=PlayerList[id].Posx+40}}}}}}else{if(Datalist[0]=="left"){if(palyerRole=="1"){if(KaiGuan_Feiji3){if(PlayerList["29"].Posy!=-20){break}}if(Is_FaShe_Feiji1){KaiGuan_Feiji3=true;Is_FaShe_Feiji1=false;PlayerList["29"].Posy=PlayerList[id].Posy+32;PlayerList["29"].Posx=PlayerList[id].Posx+40}}else{if(palyerRole=="2"){if(KaiGuan_Tank3){if(PlayerList["27"].Posy!=-20){break}}if(Is_FaShe_Tank1){KaiGuan_Tank3=true;Is_FaShe_Tank1=false;PlayerList["27"].Posy=PlayerList[id].Posy+20;PlayerList["27"].Posx=PlayerList[id].Posx+32}}else{if(palyerRole=="3"){if(KaiGuan_Tank4){if(PlayerList["28"].Posy!=-20){break}}if(Is_FaShe_Tank2){KaiGuan_Tank4=true;Is_FaShe_Tank2=false;PlayerList["28"].Posy=PlayerList[id].Posy+40;PlayerList["28"].Posx=PlayerList[id].Posx+32}}else{if(palyerRole=="4"){if(KaiGuan_Feiji7){if(PlayerList["30"].Posy!=-20){break}}if(Is_FaShe_Feiji2){KaiGuan_Feiji7=true;Is_FaShe_Feiji2=false;PlayerList["30"].Posy=PlayerList[id].Posy+32;PlayerList["30"].Posx=PlayerList[id].Posx+40}}}}}}else{if(Datalist[0]=="before"){if(palyerRole=="1"){if(KaiGuan_Feiji2){if(PlayerList["29"].Posy!=-20){break}}if(Is_FaShe_Feiji1){KaiGuan_Feiji2=true;Is_FaShe_Feiji1=false;PlayerList["29"].Posy=PlayerList[id].Posy+32;PlayerList["29"].Posx=PlayerList[id].Posx+40}}else{if(palyerRole=="2"){if(KaiGuan_Tank6){if(PlayerList["27"].Posy!=-20){break}}if(Is_FaShe_Tank1){KaiGuan_Tank6=true;Is_FaShe_Tank1=false;PlayerList["27"].Posy=PlayerList[id].Posy+32;PlayerList["27"].Posx=PlayerList[id].Posx+40}}else{if(palyerRole=="3"){if(KaiGuan_Tank8){if(PlayerList["28"].Posy!=-20){break}}if(Is_FaShe_Tank2){KaiGuan_Tank8=true;Is_FaShe_Tank2=false;PlayerList["28"].Posx=PlayerList[id].Posx+45;PlayerList["28"].Posy=PlayerList[id].Posy+20}}else{if(palyerRole=="4"){if(KaiGuan_Feiji6){if(PlayerList["30"].Posy!=-20){break}}if(Is_FaShe_Feiji2){KaiGuan_Feiji6=true;Is_FaShe_Feiji2=false;PlayerList["30"].Posy=PlayerList[id].Posy+32;PlayerList["30"].Posx=PlayerList[id].Posx+40}}}}}}}}}}PlayerList[id].XuanZhaun=Datalist[0]
}else{if(obj.Type=="3"){var id=0;if(palyerRole=="1"){id="0"}else{if(palyerRole=="2"){id="1"}else{if(palyerRole=="3"){id="14"}else{if(palyerRole=="4"){id="15"}}}}PlayerList[id].Name=palyername;PlayerList[id].OpenID=palyerOpenID;console.log("????????")}}break;case 15:var palyerheadurl=obj.HeadUrl;var palyername=obj.Name;var palyerOpenID=obj.BaoMingID;var palyerjifen=obj.JiFen;var palyerRole=obj.RoleNum;if(Role_Is_Choose[palyerRole-1]==false){console.log("????????palyerOpenID?",palyerOpenID);Role_Is_Choose[palyerRole-1]=true}else{var icount=0;for(var i=0;i<4;i++){var role_FT=Role_Is_Choose[i];if(role_FT){icount++}}if(icount==4){Chang_Role_Data(100)}else{Chang_Role_Data(icount)}}break;case 1:break;default:break}}var Role_Is_Choose=[false,false,false,false];function onError(evt){XinTiaoKaiGuan=false}function doSend(message){ws_socket.send(message)}function Chang_Role_Data(RoleID){var json={Protocol:3,Protocol2:14,Type:"1",RoleNum:RoleID,};var goServerJson=JSON.stringify(json);doSend(goServerJson)}function login(){var json={Protocol:3,Protocol2:13,Type:"1",StrBaoMing:ServerID,};var goServerJson=JSON.stringify(json);doSend(goServerJson);XinTiaoKaiGuan=true}function XinTiao(){if(ServerID_MD5.length==0){return}var json={Protocol:3,Protocol2:1,OpenID:ServerID_MD5,};var goServerJson=JSON.stringify(json);doSend(goServerJson)}var Is_FaShe_Tank1=true;var KaiGuan_Tank1=false;function Player_Tank_Boom(){if(KaiGuan_Tank1){PlayerList["27"].Posy-=0.09;if(PlayerList["27"].Posy<0){PlayerList["27"].Posy=-20;Is_FaShe_Tank1=true;KaiGuan_Tank1=false}}Player_Tank_Boom2();Player_Tank_Boom3();Player_Tank_Boom4();Player_Tank_Boom5();Player_Tank_Boom6();Player_Tank_Boom7();Player_Tank_Boom8();Player_Feiji_Boom();Player_Feiji_Boom2();Player_Feiji_Boom3();Player_Feiji_Boom4();Player_Feiji_Boom5();Player_Feiji_Boom6();Player_Feiji_Boom7();Player_Feiji_Boom8();FeiJi_Boom_Data_JianCe();return}var Is_FaShe_Tank3=true;var KaiGuan_Tank3=false;function Player_Tank_Boom3(){if(KaiGuan_Tank3){PlayerList["27"].Posy+=0.09;
if(PlayerList["27"].Posy>800){PlayerList["27"].Posy=-20;Is_FaShe_Tank1=true;KaiGuan_Tank3=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var Is_FaShe_Tank5=true;var KaiGuan_Tank5=false;function Player_Tank_Boom5(){if(KaiGuan_Tank5){PlayerList["27"].Posx-=0.09;if(PlayerList["27"].Posx<0){PlayerList["27"].Posy=-20;Is_FaShe_Tank1=true;KaiGuan_Tank5=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var Is_FaShe_Tank6=true;var KaiGuan_Tank6=false;function Player_Tank_Boom6(){if(KaiGuan_Tank6){PlayerList["27"].Posx+=0.09;if(PlayerList["27"].Posx>1200){PlayerList["27"].Posy=-20;Is_FaShe_Tank1=true;KaiGuan_Tank6=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var Is_FaShe_Tank2=true;var KaiGuan_Tank2=false;function Player_Tank_Boom2(){if(KaiGuan_Tank2){PlayerList["28"].Posy-=0.094;if(PlayerList["28"].Posy<0){PlayerList["28"].Posy=-20;Is_FaShe_Tank2=true;KaiGuan_Tank2=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var Is_FaShe_Tank4=true;var KaiGuan_Tank4=false;function Player_Tank_Boom4(){if(KaiGuan_Tank4){PlayerList["28"].Posy+=0.094;if(PlayerList["28"].Posy>800){PlayerList["28"].Posy=-20;Is_FaShe_Tank2=true;KaiGuan_Tank4=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var Is_FaShe_Tank7=true;var KaiGuan_Tank7=false;function Player_Tank_Boom7(){if(KaiGuan_Tank7){PlayerList["28"].Posx-=0.094;if(PlayerList["28"].Posx<0){PlayerList["28"].Posy=-20;Is_FaShe_Tank2=true;KaiGuan_Tank7=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var Is_FaShe_Tank8=true;var KaiGuan_Tank8=false;function Player_Tank_Boom8(){if(KaiGuan_Tank8){PlayerList["28"].Posx+=0.094;
if(PlayerList["28"].Posx>1200){PlayerList["28"].Posy=-20;Is_FaShe_Tank2=true;KaiGuan_Tank8=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var Is_FaShe_Feiji1=true;var KaiGuan_Feiji1=false;function Player_Feiji_Boom(){if(KaiGuan_Feiji1){PlayerList["29"].Posx-=0.09;if(PlayerList["29"].Posx<0){PlayerList["29"].Posy=-20;Is_FaShe_Feiji1=true;KaiGuan_Feiji1=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var KaiGuan_Feiji2=false;function Player_Feiji_Boom2(){if(KaiGuan_Feiji2){PlayerList["29"].Posx+=0.09;if(PlayerList["29"].Posx>1200){PlayerList["29"].Posy=-20;Is_FaShe_Feiji1=true;KaiGuan_Feiji2=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var KaiGuan_Feiji3=false;function Player_Feiji_Boom3(){if(KaiGuan_Feiji3){PlayerList["29"].Posy+=0.09;if(PlayerList["29"].Posy>800){PlayerList["29"].Posy=-20;Is_FaShe_Feiji1=true;KaiGuan_Feiji3=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var KaiGuan_Feiji4=false;function Player_Feiji_Boom4(){if(KaiGuan_Feiji4){PlayerList["29"].Posy-=0.09;if(PlayerList["29"].Posy<0){PlayerList["29"].Posy=-20;Is_FaShe_Feiji1=true;KaiGuan_Feiji4=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var Is_FaShe_Feiji2=true;var KaiGuan_Feiji5=false;function Player_Feiji_Boom5(){if(KaiGuan_Feiji5){PlayerList["30"].Posx-=0.09;if(PlayerList["30"].Posx<0){PlayerList["30"].Posy=-20;Is_FaShe_Feiji2=true;KaiGuan_Feiji5=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var KaiGuan_Feiji6=false;function Player_Feiji_Boom6(){if(KaiGuan_Feiji6){PlayerList["30"].Posx+=0.09;if(PlayerList["30"].Posx>1200){PlayerList["30"].Posy=-20;Is_FaShe_Feiji2=true;
KaiGuan_Feiji6=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var KaiGuan_Feiji7=false;function Player_Feiji_Boom7(){if(KaiGuan_Feiji7){PlayerList["30"].Posy+=0.09;if(PlayerList["30"].Posy>800){PlayerList["30"].Posy=-20;Is_FaShe_Feiji2=true;KaiGuan_Feiji7=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}var KaiGuan_Feiji8=false;function Player_Feiji_Boom8(){if(KaiGuan_Feiji8){PlayerList["30"].Posy-=0.09;if(PlayerList["30"].Posy<0){PlayerList["30"].Posy=-20;Is_FaShe_Feiji2=true;KaiGuan_Feiji8=false;Boom_30_kaiguan=true;Boom_30_kaiguan_AITank1=true;Boom_30_kaiguan_AITank2=true;Boom_30_kaiguan_AITank3=true}}return}function FeiJi_Boom_Data_JianCe(){if(Game_JianCe_Boom1(PlayerList["29"].Posx,PlayerList["29"].Posy,1000)){if(PlayerList["0"].XuanZhaun=="before"){PlayerList["29"].Posx=1201}else{if(PlayerList["0"].XuanZhaun=="after"){PlayerList["29"].Posx=-1}else{if(PlayerList["0"].XuanZhaun=="left"){PlayerList["29"].Posy=801}else{if(PlayerList["0"].XuanZhaun=="right"){PlayerList["29"].Posy=-1}}}}}if(Game_JianCe_Boom2(PlayerList["30"].Posx,PlayerList["30"].Posy,1000)){if(PlayerList["15"].XuanZhaun=="before"){PlayerList["30"].Posx=1201}else{if(PlayerList["15"].XuanZhaun=="after"){PlayerList["30"].Posx=-1}else{if(PlayerList["15"].XuanZhaun=="left"){PlayerList["30"].Posy=801}else{if(PlayerList["15"].XuanZhaun=="right"){PlayerList["30"].Posy=-1}}}}}if(Game_JianCe_Boom3(PlayerList["28"].Posx,PlayerList["28"].Posy,1000)){if(PlayerList["14"].XuanZhaun=="before"){PlayerList["28"].Posx=1201}else{if(PlayerList["14"].XuanZhaun=="after"){PlayerList["28"].Posx=-1}else{if(PlayerList["14"].XuanZhaun=="left"){PlayerList["28"].Posy=801}else{if(PlayerList["14"].XuanZhaun=="right"){PlayerList["28"].Posy=-1}}}}}if(Game_JianCe_Boom4(PlayerList["27"].Posx,PlayerList["27"].Posy,1000)){if(PlayerList["1"].XuanZhaun=="before"){PlayerList["27"].Posx=1201}else{if(PlayerList["1"].XuanZhaun=="after"){PlayerList["27"].Posx=-1
}else{if(PlayerList["1"].XuanZhaun=="left"){PlayerList["27"].Posy=801}else{if(PlayerList["1"].XuanZhaun=="right"){PlayerList["27"].Posy=-1}}}}}return}var TX_baozha_count0=0;var TX_baozha_count0_X=-10;var TX_baozha_count0_Y=-10;var TX_baozha_count0_IS=false;var TX_baozha_count21_IS=false;var TX_baozha_count22_IS=false;var TX_KongZhi_PL=0;var Boom_30_kaiguan=true;var Boom_30_kaiguan_AITank1=true;var Boom_30_kaiguan_AITank2=true;var Boom_30_kaiguan_AITank3=true;function Game_JianCe_Boom1(posx,posy,shanghaimax){var BooM_BoSS_Posx=PlayerList["2"].Posx;var BooM_BoSS_Posy=PlayerList["2"].Posy;var Tank1_BoSS_Posx=PlayerList["21"].Posx;var Tank1_BoSS_Posy=PlayerList["21"].Posy;var Tank2_BoSS_Posx=PlayerList["22"].Posx;var Tank2_BoSS_Posy=PlayerList["22"].Posy;if(true){var BooM_30_Posx=posx;var BooM_30_Posy=posy;if(Boom_30_kaiguan){if((BooM_30_Posy>=BooM_BoSS_Posy&&BooM_30_Posy<=BooM_BoSS_Posy+100)&&(BooM_30_Posx>=BooM_BoSS_Posx&&BooM_30_Posx<=BooM_BoSS_Posx+100)){Boom_30_kaiguan=false;TX_baozha_count0_IS=true;PlayerList["2"].Hp=PlayerList["2"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["2"].Hp<=0){var UI_GameOverjisuan1=document.getElementById("GameOver");UI_GameOverjisuan1.style.display="block";var myDate=new Date();GameTime=myDate.getMilliseconds()-GameTime}return true}}if(Boom_30_kaiguan){if((BooM_30_Posy>=Tank1_BoSS_Posy&&BooM_30_Posy<=Tank1_BoSS_Posy+40)&&(BooM_30_Posx>=Tank1_BoSS_Posx&&BooM_30_Posx<=Tank1_BoSS_Posx+40)){Boom_30_kaiguan=false;TX_baozha_count21_IS=true;PlayerList["21"].Hp=PlayerList["21"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["21"].Hp<=0){PlayerList["21"].Hp=2000}return true}}if(Boom_30_kaiguan){if((BooM_30_Posy>=Tank2_BoSS_Posy&&BooM_30_Posy<=Tank2_BoSS_Posy+40)&&(BooM_30_Posx>=Tank2_BoSS_Posx&&BooM_30_Posx<=Tank2_BoSS_Posx+40)){Boom_30_kaiguan=false;TX_baozha_count22_IS=true;PlayerList["22"].Hp=PlayerList["22"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["22"].Hp<=0){PlayerList["22"].Hp=2000}return true}}}return false}var TX_baozha_count0Boom2=0;var TX_baozha_count0_ISBoom2=false;
var TX_baozha_count21_ISBoom2=false;var TX_baozha_count22_ISBoom2=false;function Game_JianCe_Boom2(posx,posy,shanghaimax){var BooM_BoSS_Posx=PlayerList["2"].Posx;var BooM_BoSS_Posy=PlayerList["2"].Posy;var Tank1_BoSS_Posx=PlayerList["21"].Posx;var Tank1_BoSS_Posy=PlayerList["21"].Posy;var Tank2_BoSS_Posx=PlayerList["22"].Posx;var Tank2_BoSS_Posy=PlayerList["22"].Posy;if(true){var BooM_30_Posx=posx;var BooM_30_Posy=posy;if(Boom_30_kaiguan_AITank1){if((BooM_30_Posy>=BooM_BoSS_Posy&&BooM_30_Posy<=BooM_BoSS_Posy+100)&&(BooM_30_Posx>=BooM_BoSS_Posx&&BooM_30_Posx<=BooM_BoSS_Posx+100)){Boom_30_kaiguan_AITank1=false;TX_baozha_count0_ISBoom2=true;PlayerList["2"].Hp=PlayerList["2"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["2"].Hp<=0){var UI_GameOverjisuan1=document.getElementById("GameOver");UI_GameOverjisuan1.style.display="block";var myDate=new Date();GameTime=myDate.getMilliseconds()-GameTime}return true}}if(Boom_30_kaiguan_AITank1){if((BooM_30_Posy>=Tank1_BoSS_Posy&&BooM_30_Posy<=Tank1_BoSS_Posy+40)&&(BooM_30_Posx>=Tank1_BoSS_Posx&&BooM_30_Posx<=Tank1_BoSS_Posx+40)){Boom_30_kaiguan_AITank1=false;TX_baozha_count21_ISBoom2=true;PlayerList["21"].Hp=PlayerList["21"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["21"].Hp<=0){PlayerList["21"].Hp=2000}return true}}if(Boom_30_kaiguan_AITank1){if((BooM_30_Posy>=Tank2_BoSS_Posy&&BooM_30_Posy<=Tank2_BoSS_Posy+40)&&(BooM_30_Posx>=Tank2_BoSS_Posx&&BooM_30_Posx<=Tank2_BoSS_Posx+40)){Boom_30_kaiguan_AITank1=false;TX_baozha_count22_ISBoom2=true;PlayerList["22"].Hp=PlayerList["22"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["22"].Hp<=0){PlayerList["22"].Hp=2000}return true}}}return false}var TX_baozha_count0Boom3=0;var TX_baozha_count0_ISBoom3=false;var TX_baozha_count21_ISBoom3=false;var TX_baozha_count22_ISBoom3=false;function Game_JianCe_Boom3(posx,posy,shanghaimax){var BooM_BoSS_Posx=PlayerList["2"].Posx;var BooM_BoSS_Posy=PlayerList["2"].Posy;var Tank1_BoSS_Posx=PlayerList["21"].Posx;var Tank1_BoSS_Posy=PlayerList["21"].Posy;var Tank2_BoSS_Posx=PlayerList["22"].Posx;
var Tank2_BoSS_Posy=PlayerList["22"].Posy;if(true){var BooM_30_Posx=posx;var BooM_30_Posy=posy;if(Boom_30_kaiguan_AITank2){if((BooM_30_Posy>=BooM_BoSS_Posy&&BooM_30_Posy<=BooM_BoSS_Posy+100)&&(BooM_30_Posx>=BooM_BoSS_Posx&&BooM_30_Posx<=BooM_BoSS_Posx+100)){Boom_30_kaiguan_AITank1=false;TX_baozha_count0_ISBoom3=true;PlayerList["2"].Hp=PlayerList["2"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["2"].Hp<=0){var UI_GameOverjisuan1=document.getElementById("GameOver");UI_GameOverjisuan1.style.display="block";var myDate=new Date();GameTime=myDate.getMilliseconds()-GameTime}return true}}if(Boom_30_kaiguan_AITank2){if((BooM_30_Posy>=Tank1_BoSS_Posy&&BooM_30_Posy<=Tank1_BoSS_Posy+40)&&(BooM_30_Posx>=Tank1_BoSS_Posx&&BooM_30_Posx<=Tank1_BoSS_Posx+40)){Boom_30_kaiguan_AITank2=false;TX_baozha_count21_ISBoom3=true;PlayerList["21"].Hp=PlayerList["21"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["21"].Hp<=0){PlayerList["21"].Hp=2000}return true}}if(Boom_30_kaiguan_AITank2){if((BooM_30_Posy>=Tank2_BoSS_Posy&&BooM_30_Posy<=Tank2_BoSS_Posy+40)&&(BooM_30_Posx>=Tank2_BoSS_Posx&&BooM_30_Posx<=Tank2_BoSS_Posx+40)){Boom_30_kaiguan_AITank2=false;TX_baozha_count22_ISBoom3=true;PlayerList["22"].Hp=PlayerList["22"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["22"].Hp<=0){PlayerList["22"].Hp=2000}return true}}}return false}var TX_baozha_count0Boom4=0;var TX_baozha_count0_ISBoom4=false;var TX_baozha_count21_ISBoom4=false;var TX_baozha_count22_ISBoom4=false;function Game_JianCe_Boom4(posx,posy,shanghaimax){var BooM_BoSS_Posx=PlayerList["2"].Posx;var BooM_BoSS_Posy=PlayerList["2"].Posy;var Tank1_BoSS_Posx=PlayerList["21"].Posx;var Tank1_BoSS_Posy=PlayerList["21"].Posy;var Tank2_BoSS_Posx=PlayerList["22"].Posx;var Tank2_BoSS_Posy=PlayerList["22"].Posy;if(true){var BooM_30_Posx=posx;var BooM_30_Posy=posy;if(Boom_30_kaiguan_AITank3){if((BooM_30_Posy>=BooM_BoSS_Posy&&BooM_30_Posy<=BooM_BoSS_Posy+100)&&(BooM_30_Posx>=BooM_BoSS_Posx&&BooM_30_Posx<=BooM_BoSS_Posx+100)){Boom_30_kaiguan_AITank3=false;TX_baozha_count0_ISBoom4=true;
PlayerList["2"].Hp=PlayerList["2"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["2"].Hp<=0){var UI_GameOverjisuan1=document.getElementById("GameOver");UI_GameOverjisuan1.style.display="block";var myDate=new Date();GameTime=myDate.getMilliseconds()-GameTime}return true}}if(Boom_30_kaiguan_AITank3){if((BooM_30_Posy>=Tank1_BoSS_Posy&&BooM_30_Posy<=Tank1_BoSS_Posy+40)&&(BooM_30_Posx>=Tank1_BoSS_Posx&&BooM_30_Posx<=Tank1_BoSS_Posx+40)){Boom_30_kaiguan_AITank3=false;TX_baozha_count21_ISBoom4=true;PlayerList["21"].Hp=PlayerList["21"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["21"].Hp<=0){PlayerList["21"].Hp=2000}return true}}if(Boom_30_kaiguan_AITank3){if((BooM_30_Posy>=Tank2_BoSS_Posy&&BooM_30_Posy<=Tank2_BoSS_Posy+40)&&(BooM_30_Posx>=Tank2_BoSS_Posx&&BooM_30_Posx<=Tank2_BoSS_Posx+40)){Boom_30_kaiguan_AITank3=false;TX_baozha_count22_ISBoom4=true;PlayerList["22"].Hp=PlayerList["22"].Hp-ShuiHangShu(shanghaimax);if(PlayerList["22"].Hp<=0){PlayerList["22"].Hp=2000}return true}}}return false};
var canvas,ctx;var background,runnerImageDC;var RunnPlayer_X,RunnPlayer_Y;var divdata;var PlayerList=[];var TeXiaoList=[];var PC_BossList=[];var ZhiYuanList=[];var Player_ImgList=[];var itime=0;var TX_gouhuo=[];var TX_gouhuo_count=0;var TX_Speed_count=0;var TX_Speed=12;var TX_baozha=[];var TX_baozha_count=0;var JZ_leida=[];var JZ_leida_count=0;var JZ_leida_count2=0;var AI_KaiGuan_JiShu=0;var AI_KaiGuan2_JiShu=0;var AI_FangXianglist=["before","left","right","after"];var AI_TankFangXiang=0;var AI_TankFangXiang1=0;var AI_Tank_BooM_1=false;var AI_Tank_BooM_FanXiang="";var AI_Tank_BooM_2=false;var AI_Tank_BooM_FanXiang1="";function initializeImage(){RunnPlayer_X=0;RunnPlayer_Y=0;background=new Image();runnerImageDC=new Image();canvas=document.getElementById("Game-canvas");ctx=canvas.getContext("2d");background.src="img/bjre.png";background.onload=function(e){divdata=document.getElementById("GGame");canvas.width=divdata.offsetWidth;canvas.height=divdata.offsetHeight;startGame()}}function startGame(){draw()}function draw(){drawBackground();drawRunnerImageDC(RunnPlayer_X,RunnPlayer_Y)}function drawBackground(){ctx.drawImage(background,0,0,canvas.width,canvas.height)}function drawRunnerImageDC(prRunnPlayer_X,prRunnPlayer_Y){ctx.drawImage(runnerImageDC,prRunnPlayer_X,prRunnPlayer_Y)}function RunnIng_Player(runnerImageDCData,pos_x,pos_y,kuang,gao,type,jiaodu,type2){TX_Speed_count++;if(TX_Speed_count%TX_Speed==0){if(type=="TX_gouhuo"){PlayerList["16"].ImgDC.src=gouhuo_base64[TX_gouhuo_count];if(TX_gouhuo_count>=8){TX_gouhuo_count=0}else{TX_gouhuo_count++}}if(type=="TX_baozha"){if(PlayerList["17"].EntryTX){PlayerList["17"].ImgDC.src=baozha[TX_baozha_count];if(TX_baozha_count>=11){TX_baozha_count=0;PlayerList["17"].EntryTX=false;PlayerList["17"].ImgDC.src=baozha[TX_baozha_count]}else{TX_baozha_count++}if(TX_baozha_count>10){play_BaoZha_YinXiao()}}}if(TX_baozha_count0_IS){PlayerList["31"].Posx=PlayerList["2"].Posx;PlayerList["31"].Posy=PlayerList["2"].Posy;PlayerList["31"].ImgDC.src=baozha[TX_baozha_count0];
if(TX_baozha_count0>=11){TX_baozha_count0_IS=false;TX_baozha_count0=0;PlayerList["31"].ImgDC.src=baozha[TX_baozha_count0]}else{TX_baozha_count0++}}if(TX_baozha_count21_IS){PlayerList["31"].Posx=PlayerList["21"].Posx;PlayerList["31"].Posy=PlayerList["21"].Posy;PlayerList["31"].ImgDC.src=baozha[TX_baozha_count0];if(TX_baozha_count0>=11){TX_baozha_count21_IS=false;TX_baozha_count0=0;PlayerList["31"].ImgDC.src=baozha[TX_baozha_count0]}else{TX_baozha_count0++}}if(TX_baozha_count22_IS){PlayerList["31"].Posx=PlayerList["22"].Posx;PlayerList["31"].Posy=PlayerList["22"].Posy;PlayerList["31"].ImgDC.src=baozha[TX_baozha_count0];if(TX_baozha_count0>=11){TX_baozha_count22_IS=false;TX_baozha_count0=0;PlayerList["31"].ImgDC.src=baozha[TX_baozha_count0]}else{TX_baozha_count0++}}if(TX_baozha_count0_ISBoom2){PlayerList["32"].Posx=PlayerList["2"].Posx;PlayerList["32"].Posy=PlayerList["2"].Posy;PlayerList["32"].ImgDC.src=baozha[TX_baozha_count0Boom2];if(TX_baozha_count0Boom2>=11){TX_baozha_count0_ISBoom2=false;TX_baozha_count0Boom2=0;PlayerList["32"].ImgDC.src=baozha[TX_baozha_count0Boom2]}else{TX_baozha_count0Boom2++}}if(TX_baozha_count21_ISBoom2){PlayerList["32"].Posx=PlayerList["21"].Posx;PlayerList["32"].Posy=PlayerList["21"].Posy;PlayerList["32"].ImgDC.src=baozha[TX_baozha_count0Boom2];if(TX_baozha_count0Boom2>=11){TX_baozha_count21_ISBoom2=false;TX_baozha_count0Boom2=0;PlayerList["32"].ImgDC.src=baozha[TX_baozha_count0Boom2]}else{TX_baozha_count0Boom2++}}if(TX_baozha_count22_ISBoom2){PlayerList["32"].Posx=PlayerList["22"].Posx;PlayerList["32"].Posy=PlayerList["22"].Posy;PlayerList["32"].ImgDC.src=baozha[TX_baozha_count0Boom2];if(TX_baozha_count0Boom2>=11){TX_baozha_count22_ISBoom2=false;TX_baozha_count0Boom2=0;PlayerList["32"].ImgDC.src=baozha[TX_baozha_count0Boom2]}else{TX_baozha_count0Boom2++}}if(TX_baozha_count0_ISBoom3){PlayerList["33"].Posx=PlayerList["2"].Posx;PlayerList["33"].Posy=PlayerList["2"].Posy;PlayerList["33"].ImgDC.src=baozha[TX_baozha_count0Boom3];if(TX_baozha_count0Boom3>=11){TX_baozha_count0_ISBoom3=false;
TX_baozha_count0Boom3=0;PlayerList["33"].ImgDC.src=baozha[TX_baozha_count0Boom3]}else{TX_baozha_count0Boom3++}}if(TX_baozha_count21_ISBoom3){PlayerList["33"].Posx=PlayerList["21"].Posx;PlayerList["33"].Posy=PlayerList["21"].Posy;PlayerList["33"].ImgDC.src=baozha[TX_baozha_count0Boom3];if(TX_baozha_count0Boom3>=11){TX_baozha_count21_ISBoom3=false;TX_baozha_count0Boom3=0;PlayerList["33"].ImgDC.src=baozha[TX_baozha_count0Boom3]}else{TX_baozha_count0Boom3++}}if(TX_baozha_count22_ISBoom3){PlayerList["33"].Posx=PlayerList["22"].Posx;PlayerList["33"].Posy=PlayerList["22"].Posy;PlayerList["33"].ImgDC.src=baozha[TX_baozha_count0Boom3];if(TX_baozha_count0Boom3>=11){TX_baozha_count22_ISBoom3=false;TX_baozha_count0Boom3=0;PlayerList["33"].ImgDC.src=baozha[TX_baozha_count0Boom2]}else{TX_baozha_count0Boom3++}}if(TX_baozha_count0_ISBoom4){PlayerList["34"].Posx=PlayerList["2"].Posx;PlayerList["34"].Posy=PlayerList["2"].Posy;PlayerList["34"].ImgDC.src=baozha[TX_baozha_count0Boom4];if(TX_baozha_count0Boom4>=11){TX_baozha_count0_ISBoom4=false;TX_baozha_count0Boom4=0;PlayerList["34"].ImgDC.src=baozha[TX_baozha_count0Boom4]}else{TX_baozha_count0Boom4++}}if(TX_baozha_count21_ISBoom4){PlayerList["34"].Posx=PlayerList["21"].Posx;PlayerList["34"].Posy=PlayerList["21"].Posy;PlayerList["34"].ImgDC.src=baozha[TX_baozha_count0Boom4];if(TX_baozha_count0Boom4>=11){TX_baozha_count21_ISBoom4=false;TX_baozha_count0Boom4=0;PlayerList["34"].ImgDC.src=baozha[TX_baozha_count0Boom4]}else{TX_baozha_count0Boom4++}}if(TX_baozha_count22_ISBoom4){PlayerList["34"].Posx=PlayerList["22"].Posx;PlayerList["34"].Posy=PlayerList["22"].Posy;PlayerList["34"].ImgDC.src=baozha[TX_baozha_count0Boom4];if(TX_baozha_count0Boom4>=11){TX_baozha_count22_ISBoom4=false;TX_baozha_count0Boom4=0;PlayerList["34"].ImgDC.src=baozha[TX_baozha_count0Boom4]}else{TX_baozha_count0Boom4++}}if(type=="JZ_leida"){PlayerList["6"].ImgDC.src=leida_base64[JZ_leida_count];if(JZ_leida_count>=15){JZ_leida_count=0}else{JZ_leida_count++}PlayerList["7"].ImgDC.src=leida_base64[JZ_leida_count2];
if(JZ_leida_count2>=15){JZ_leida_count2=0}else{JZ_leida_count2++}}}if(type=="player"){if(pos_x<0){pos_x=0}if(pos_x>=1150){pos_x=1150}if(pos_y<0){pos_y=0}if(pos_y>=750){pos_y=750}}if(type2=="Tank"){if(true){var id="1";if(PlayerList[id].XuanZhaun=="after"){if(PlayerList[id].Posy<235){if(PlayerList[id].Posx>250&&PlayerList[id].Posx<730){if(PlayerList[id].Posx<266){PlayerList[id].Posx=266}}else{if(PlayerList[id].Posx>890){if(PlayerList[id].Posx<910){PlayerList[id].Posx=910}}}}else{if(PlayerList[id].Posy>335){if(PlayerList[id].Posx>250&&PlayerList[id].Posx<730){if(PlayerList[id].Posx<266){PlayerList[id].Posx=266}}else{if(PlayerList[id].Posx>890){if(PlayerList[id].Posx<910){PlayerList[id].Posx=910}}}}}}else{if(PlayerList[id].XuanZhaun=="before"){if(PlayerList[id].Posy<235){if(PlayerList[id].Posx>0&&PlayerList[id].Posx<130){if(PlayerList[id].Posx>95){PlayerList[id].Posx=95}}if(PlayerList[id].Posx>266&&PlayerList[id].Posx<700){if(PlayerList[id].Posx>670){PlayerList[id].Posx=670}}}else{if(PlayerList[id].Posy>335){if(PlayerList[id].Posx>0&&PlayerList[id].Posx<130){if(PlayerList[id].Posx>95){PlayerList[id].Posx=95}}if(PlayerList[id].Posx>266&&PlayerList[id].Posx<700){if(PlayerList[id].Posx>670){PlayerList[id].Posx=670}}}}}else{if(PlayerList[id].XuanZhaun=="right"){if(PlayerList[id].Posx>850){if(PlayerList[id].Posy<133){PlayerList[id].Posy=133}}else{if(PlayerList[id].Posx>105&&PlayerList[id].Posx<236){if(PlayerList[id].Posy<235){PlayerList[id].Posy=235}}else{if(PlayerList[id].Posx>720&&PlayerList[id].Posx<=850){if(PlayerList[id].Posy<260){PlayerList[id].Posy=260}}}}}else{if(PlayerList[id].XuanZhaun=="left"){if(PlayerList[id].Posx>850){if(PlayerList[id].Posy>620){PlayerList[id].Posy=620}}else{if(PlayerList[id].Posx>105&&PlayerList[id].Posx<236){if(PlayerList[id].Posy>335){PlayerList[id].Posy=335}}else{if(PlayerList[id].Posx>720&&PlayerList[id].Posx<=850){if(PlayerList[id].Posy>335){PlayerList[id].Posy=335}}}}}}}}}if(true){var id="14";if(PlayerList[id].XuanZhaun=="after"){if(PlayerList[id].Posy<235){if(PlayerList[id].Posx<266&&PlayerList[id].Posx<730){PlayerList[id].Posx=266
}if(PlayerList[id].Posx<910){PlayerList[id].Posx=910}}else{if(PlayerList[id].Posy>335){if(PlayerList[id].Posx<266&&PlayerList[id].Posx<730){PlayerList[id].Posx=266}if(PlayerList[id].Posx>740){if(PlayerList[id].Posx<910){PlayerList[id].Posx=910}}}}}else{if(PlayerList[id].XuanZhaun=="before"){if(PlayerList[id].Posy<235){if(PlayerList[id].Posx>0&&PlayerList[id].Posx<130){if(PlayerList[id].Posx>95){PlayerList[id].Posx=95}}if(PlayerList[id].Posx>266&&PlayerList[id].Posx<700){if(PlayerList[id].Posx>670){PlayerList[id].Posx=670}}}else{if(PlayerList[id].Posy>335){if(PlayerList[id].Posx>0&&PlayerList[id].Posx<130){if(PlayerList[id].Posx>95){PlayerList[id].Posx=95}}if(PlayerList[id].Posx>266&&PlayerList[id].Posx<700){if(PlayerList[id].Posx>670){PlayerList[id].Posx=670}}}}}else{if(PlayerList[id].XuanZhaun=="right"){if(PlayerList[id].Posx>850){if(PlayerList[id].Posy<133){PlayerList[id].Posy=133}}}else{if(PlayerList[id].XuanZhaun=="left"){if(PlayerList[id].Posx>850){if(PlayerList[id].Posy>620){PlayerList[id].Posy=620}}}}}}}}if(type=="x_boss"){if(x_bossPosX==1200){var id="3";if(PlayerList[id].type=="x_boss"){PlayerList[id].Posy=Math.floor(Math.random()*700);pos_y=PlayerList[id].Posy}}}if(type=="AI_Tank"){if(true){var id="21";AI_KaiGuan_JiShu++;if(AI_FangXianglist[AI_TankFangXiang]=="before"&&PlayerList[id].Posx<280){if(PlayerList[id].Posy<780){AI_TankFangXiang=1}else{AI_TankFangXiang=2}}else{if(AI_FangXianglist[AI_TankFangXiang]=="left"&&PlayerList[id].Posy>700){if(PlayerList[id].Posx<650){AI_TankFangXiang=3}else{AI_TankFangXiang=0}}else{if(AI_FangXianglist[AI_TankFangXiang]=="right"&&PlayerList[id].Posy<10){if(PlayerList[id].Posx>280){AI_TankFangXiang=0}else{AI_TankFangXiang=3}}else{if(AI_FangXianglist[AI_TankFangXiang]=="after"&&PlayerList[id].Posx>650){if(PlayerList[id].Posy>10){AI_TankFangXiang=2}else{AI_TankFangXiang=1}}}}}if(AI_KaiGuan_JiShu%4000==0&&AI_KaiGuan_JiShu!=0){AI_TankFangXiang=ShuiHangShu(AI_FangXianglist.length);AI_KaiGuan_JiShu=0}if(AI_FangXianglist[AI_TankFangXiang]=="before"){PlayerList[id].Posx-=0.12;
PlayerList[id].ImgDC.src="img/role/di1_tank/unittank22base004.png";PlayerList[id].Ready=false;PlayerList[id].ImgDC.onload=function(){PlayerList[id].Ready=true}}else{if(AI_FangXianglist[AI_TankFangXiang]=="left"){PlayerList[id].Posy+=0.12;PlayerList[id].ImgDC.src="img/role/di1_tank/unittank22base006.png";PlayerList[id].Ready=false;PlayerList[id].ImgDC.onload=function(){PlayerList[id].Ready=true}}else{if(AI_FangXianglist[AI_TankFangXiang]=="right"){PlayerList[id].Posy-=0.12;PlayerList[id].ImgDC.src="img/role/di1_tank/unittank22base002.png";PlayerList[id].Ready=false;PlayerList[id].ImgDC.onload=function(){PlayerList[id].Ready=true}}else{if(AI_FangXianglist[AI_TankFangXiang]=="after"){PlayerList[id].Posx+=0.12;PlayerList[id].ImgDC.src="img/role/di1_tank/unittank22base000.png";PlayerList[id].Ready=false;PlayerList[id].ImgDC.onload=function(){PlayerList[id].Ready=true}}}}}if(AI_Tank_BooM_1==false){if(AI_FangXianglist[AI_TankFangXiang]=="before"){AI_Tank_BooM_FanXiang="before";PlayerList["25"].Posx=PlayerList[id].Posx;if(AI_Tank_BooM_1==false){PlayerList["25"].Posy=PlayerList[id].Posy+26;AI_Tank_BooM_1=true}}else{if(AI_FangXianglist[AI_TankFangXiang]=="after"){AI_Tank_BooM_FanXiang="after";PlayerList["25"].Posx=PlayerList[id].Posx+70;if(AI_Tank_BooM_1==false){PlayerList["25"].Posy=PlayerList[id].Posy+26;AI_Tank_BooM_1=true}}else{if(AI_FangXianglist[AI_TankFangXiang]=="right"){AI_Tank_BooM_FanXiang="right";PlayerList["25"].Posx=PlayerList[id].Posx+34;if(AI_Tank_BooM_1==false){PlayerList["25"].Posy=PlayerList[id].Posy;AI_Tank_BooM_1=true}}else{if(AI_FangXianglist[AI_TankFangXiang]=="left"){AI_Tank_BooM_FanXiang="left";PlayerList["25"].Posx=PlayerList[id].Posx+32;if(AI_Tank_BooM_1==false){PlayerList["25"].Posy=PlayerList[id].Posy+45;AI_Tank_BooM_1=true}}}}}}else{if(AI_Tank_BooM_FanXiang=="before"){PlayerList["25"].Posx-=0.6;if(PlayerList["25"].Posx<0){AI_Tank_BooM_1=false}}else{if(AI_Tank_BooM_FanXiang=="after"){PlayerList["25"].Posx+=0.6;if(PlayerList["25"].Posx>1200){AI_Tank_BooM_1=false
}}else{if(AI_Tank_BooM_FanXiang=="right"){PlayerList["25"].Posy-=0.6;if(PlayerList["25"].Posy<0){AI_Tank_BooM_1=false}}else{if(AI_Tank_BooM_FanXiang=="left"){PlayerList["25"].Posy+=0.6;if(PlayerList["25"].Posy>800){AI_Tank_BooM_1=false}}}}}}}if(true){var id="22";AI_KaiGuan2_JiShu++;if(AI_FangXianglist[AI_TankFangXiang1]=="before"&&PlayerList[id].Posx<280){if(PlayerList[id].Posy<780){AI_TankFangXiang1=1}else{AI_TankFangXiang1=2}}else{if(AI_FangXianglist[AI_TankFangXiang1]=="left"&&PlayerList[id].Posy>700){if(PlayerList[id].Posx<650){AI_TankFangXiang1=3}else{AI_TankFangXiang1=0}}else{if(AI_FangXianglist[AI_TankFangXiang1]=="right"&&PlayerList[id].Posy<10){if(PlayerList[id].Posx>280){AI_TankFangXiang1=0}else{AI_TankFangXiang1=3}}else{if(AI_FangXianglist[AI_TankFangXiang1]=="after"&&PlayerList[id].Posx>650){if(PlayerList[id].Posy>10){AI_TankFangXiang1=2}else{AI_TankFangXiang1=1}}}}}if(AI_KaiGuan2_JiShu%5000==0&&AI_KaiGuan2_JiShu!=0){AI_TankFangXiang1=ShuiHangShu(AI_FangXianglist.length);AI_KaiGuan2_JiShu=0}if(AI_FangXianglist[AI_TankFangXiang1]=="before"){PlayerList[id].Posx-=0.15;PlayerList[id].ImgDC.src="img/role/di2_tank/unittank2base004.png";PlayerList[id].Ready=false;PlayerList[id].ImgDC.onload=function(){PlayerList[id].Ready=true}}else{if(AI_FangXianglist[AI_TankFangXiang1]=="left"){PlayerList[id].Posy+=0.15;PlayerList[id].ImgDC.src="img/role/di2_tank/unittank2base006.png";PlayerList[id].Ready=false;PlayerList[id].ImgDC.onload=function(){PlayerList[id].Ready=true}}else{if(AI_FangXianglist[AI_TankFangXiang1]=="right"){PlayerList[id].Posy-=0.15;PlayerList[id].ImgDC.src="img/role/di2_tank/unittank2base002.png";PlayerList[id].Ready=false;PlayerList[id].ImgDC.onload=function(){PlayerList[id].Ready=true}}else{if(AI_FangXianglist[AI_TankFangXiang1]=="after"){PlayerList[id].Posx+=0.15;PlayerList[id].ImgDC.src="img/role/di2_tank/unittank2base000.png";PlayerList[id].Ready=false;PlayerList[id].ImgDC.onload=function(){PlayerList[id].Ready=true}}}}}if(AI_Tank_BooM_2==false){if(AI_FangXianglist[AI_TankFangXiang1]=="before"){AI_Tank_BooM_FanXiang1="before";
PlayerList["26"].Posx=PlayerList[id].Posx;if(AI_Tank_BooM_2==false){PlayerList["26"].Posy=PlayerList[id].Posy+26;AI_Tank_BooM_2=true}}else{if(AI_FangXianglist[AI_TankFangXiang1]=="after"){AI_Tank_BooM_FanXiang1="after";PlayerList["26"].Posx=PlayerList[id].Posx+70;if(AI_Tank_BooM_2==false){PlayerList["26"].Posy=PlayerList[id].Posy+26;AI_Tank_BooM_2=true}}else{if(AI_FangXianglist[AI_TankFangXiang1]=="right"){AI_Tank_BooM_FanXiang1="right";PlayerList["26"].Posx=PlayerList[id].Posx+34;if(AI_Tank_BooM_2==false){PlayerList["26"].Posy=PlayerList[id].Posy;AI_Tank_BooM_2=true}}else{if(AI_FangXianglist[AI_TankFangXiang1]=="left"){AI_Tank_BooM_FanXiang1="left";PlayerList["26"].Posx=PlayerList[id].Posx+32;if(AI_Tank_BooM_2==false){PlayerList["26"].Posy=PlayerList[id].Posy+45;AI_Tank_BooM_2=true}}}}}}else{if(AI_Tank_BooM_FanXiang1=="before"){PlayerList["26"].Posx-=0.8;if(PlayerList["26"].Posx<0){AI_Tank_BooM_2=false}}else{if(AI_Tank_BooM_FanXiang1=="after"){PlayerList["26"].Posx+=0.8;if(PlayerList["26"].Posx>1200){AI_Tank_BooM_2=false}}else{if(AI_Tank_BooM_FanXiang1=="right"){PlayerList["26"].Posy-=0.8;if(PlayerList["26"].Posy<0){AI_Tank_BooM_2=false}}else{if(AI_Tank_BooM_FanXiang1=="left"){PlayerList["26"].Posy+=0.8;if(PlayerList["26"].Posy>800){AI_Tank_BooM_2=false}}}}}}}}JiFeiQu();Player_Tank_Boom();if(runnerImageDCData!=null){ctx.drawImage(runnerImageDCData,pos_x,pos_y,kuang,gao)}}function XH_Player_Data(){for(id in PlayerList){if(PlayerList["4"].EntryTX==false){continue}RunnIng_Player(PlayerList[id].ImgDC,PlayerList[id].Posx,PlayerList[id].Posy,PlayerList[id].kuang,PlayerList[id].gao,PlayerList[id].type,PlayerList[id].XuanZhaun,PlayerList[id].type2)}return}function animate(time){itime++;ctx.clearRect(0,0,canvas.width,canvas.height);XH_Player_Data();requestNextAnimationFrame(animate)}function Player_tran(Img,zhongxinX,zhongxinY,JiaoDu,Kuan,Gao,PosX,PosY){ctx.save();ctx.translate(0,0);if(JiaoDu=="90"){ctx.rotate(90*Math.PI/180);ctx.drawImage(Img,PosY,-PosX,Kuan,Gao)}else{if(JiaoDu=="180"){ctx.rotate(180*Math.PI/180);
ctx.drawImage(Img,-PosX,-PosY,Kuan,Gao)}else{if(JiaoDu=="270"){ctx.rotate(270*Math.PI/180);ctx.drawImage(Img,-PosY,PosX,Kuan,Gao)}else{if(JiaoDu=="1"){ctx.drawImage(Img,PosX,PosY,Kuan,Gao)}}}}ctx.restore()};
function tankAi(){for(id in PlayerList){if(PlayerList[id].type!="AI_Tank"){continue}RunnIng_Player(PlayerList[id].ImgDC,PlayerList[id].Posx,PlayerList[id].Posy,PlayerList[id].kuang,PlayerList[id].gao,PlayerList[id].type,PlayerList[id].XuanZhaun)}return}function ShuiHangShu(num_quyu){var oNow=new Date();return oNow.getSeconds()%num_quyu}function ChaiFenString(strHunHe,strFenGeFu){var strs=new Array();strs=strHunHe.split(strFenGeFu);return strs}function Boom_AI(){LeiDa_Sys("8",50,250);LeiDa_Sys15("9",50,120);Boom_AI_TY_DiTank("25",90,60);Boom_AI_TY_DiTank("26",90,60);if(Boom_AI_TY("4",90,60)){return true}if(Boom_AI_TY("5",90,60)){return true}return false}function Boom_AI_TY_DiTank(boomid,role_Kung,role_Gao){var Boom_Posx=PlayerList[boomid].Posx;var Boom_Posy=PlayerList[boomid].Posy;if(true){var Boom_Posx_1=PlayerList["0"].Posx;var Boom_Posy_1=PlayerList["0"].Posy;if((Boom_Posx_1+role_Kung>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+role_Gao>Boom_Posy)&&(Boom_Posy>Boom_Posy_1)){PlayerList[boomid].Posx=-100;PlayerList["0"].Hp=PlayerList["0"].Hp-ShuiHangShu(500);if(PlayerList["0"].Hp<0){PlayerList["0"].Posx=30;PlayerList["0"].Posy=120;PlayerList["0"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan1++}}}}if(true){var Boom_Posx_1=PlayerList["1"].Posx;var Boom_Posy_1=PlayerList["1"].Posy;if((Boom_Posx_1+80>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+40>Boom_Posy)&&(Boom_Posy>Boom_Posy_1)){PlayerList[boomid].Posx=-100;PlayerList["1"].Hp=PlayerList["1"].Hp-ShuiHangShu(500);if(PlayerList["1"].Hp<0){PlayerList["1"].Posx=20;PlayerList["1"].Posy=200;PlayerList["1"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan2++}}}}if(true){var Boom_Posx_1=PlayerList["14"].Posx;var Boom_Posy_1=PlayerList["14"].Posy;if((Boom_Posx_1+80>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+40>Boom_Posy)&&(Boom_Posy>Boom_Posy_1)){PlayerList[boomid].Posx=-100;PlayerList["14"].Hp=PlayerList["14"].Hp-ShuiHangShu(500);if(PlayerList["14"].Hp<0){PlayerList["14"].Posx=20;
PlayerList["14"].Posy=400;PlayerList["14"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan3++}}}}if(true){var Boom_Posx_1=PlayerList["15"].Posx;var Boom_Posy_1=PlayerList["15"].Posy;if((Boom_Posx_1+110>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+70>Boom_Posy)&&(Boom_Posy>Boom_Posy_1)){PlayerList[boomid].Posx=-100;PlayerList["15"].Hp=PlayerList["15"].Hp-ShuiHangShu(500);if(PlayerList["15"].Hp<0){PlayerList["15"].Posx=20;PlayerList["15"].Posy=450;PlayerList["15"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan4++}}}}}function Boom_AI_TY(boomid,role_Kung,role_Gao){var Boom_Posx=PlayerList[boomid].Posx;var Boom_Posy=PlayerList[boomid].Posy;if(true){var Boom_Posx_1=PlayerList["0"].Posx;var Boom_Posy_1=PlayerList["0"].Posy;if((Boom_Posx_1+role_Kung>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+role_Gao>Boom_Posy)&&(Boom_Posy>Boom_Posy_1)){PlayerList["17"].EntryTX=true;PlayerList["17"].Posx=Boom_Posx-40;PlayerList["17"].Posy=Boom_Posy-10;if(boomid=="4"){PlayerList[boomid].Posx=-100;PlayerList["5"].Posx=-100}else{if(boomid=="5"){PlayerList[boomid].Posx=-100;PlayerList["4"].Posx=-100}}PlayerList["0"].Hp=PlayerList["0"].Hp-ShuiHangShu(1000);if(PlayerList["0"].Hp<0){PlayerList["0"].Posx=30;PlayerList["0"].Posy=120;PlayerList["0"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan1++}}}}if(true){var Boom_Posx_1=PlayerList["1"].Posx;var Boom_Posy_1=PlayerList["1"].Posy;if((Boom_Posx_1+80>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+40>Boom_Posy)&&(Boom_Posy>Boom_Posy_1)){PlayerList["17"].EntryTX=true;PlayerList["17"].Posx=Boom_Posx-30;PlayerList["17"].Posy=Boom_Posy-10;if(boomid=="4"){PlayerList[boomid].Posx=-100;PlayerList["5"].Posx=-100}else{if(boomid=="5"){PlayerList[boomid].Posx=-100;PlayerList["4"].Posx=-100}}PlayerList["1"].Hp=PlayerList["1"].Hp-ShuiHangShu(1000);if(PlayerList["1"].Hp<0){PlayerList["1"].Posx=20;PlayerList["1"].Posy=200;PlayerList["1"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan2++
}}}}if(true){var Boom_Posx_1=PlayerList["14"].Posx;var Boom_Posy_1=PlayerList["14"].Posy;if((Boom_Posx_1+80>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+40>Boom_Posy)&&(Boom_Posy>Boom_Posy_1)){PlayerList["17"].EntryTX=true;PlayerList["17"].Posx=Boom_Posx-30;PlayerList["17"].Posy=Boom_Posy-10;if(boomid=="4"){PlayerList[boomid].Posx=-100;PlayerList["5"].Posx=-100}else{if(boomid=="5"){PlayerList[boomid].Posx=-100;PlayerList["4"].Posx=-100}}PlayerList["14"].Hp=PlayerList["14"].Hp-ShuiHangShu(1000);if(PlayerList["14"].Hp<0){PlayerList["14"].Posx=20;PlayerList["14"].Posy=400;PlayerList["14"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan3++}}}}if(true){var Boom_Posx_1=PlayerList["15"].Posx;var Boom_Posy_1=PlayerList["15"].Posy;if((Boom_Posx_1+110>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+70>Boom_Posy)&&(Boom_Posy>Boom_Posy_1)){PlayerList["17"].EntryTX=true;PlayerList["17"].Posx=Boom_Posx-50;PlayerList["17"].Posy=Boom_Posy-10;if(boomid=="4"){PlayerList[boomid].Posx=-100;PlayerList["5"].Posx=-100}else{if(boomid=="5"){PlayerList[boomid].Posx=-100;PlayerList["4"].Posx=-100}}PlayerList["15"].Hp=PlayerList["15"].Hp-ShuiHangShu(1000);if(PlayerList["15"].Hp<0){PlayerList["15"].Posx=20;PlayerList["15"].Posy=450;PlayerList["15"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan4++}}}}}var fangkongpaoCount=0;var fangkongpaoCount2=0;var fangkongpaoCount3=0;var fangkongpaoCount4=0;function LeiDa_Sys(leidaid,role_Kung,role_Gao){var id="0";if(true){var Boom_Posx=PlayerList["9"].Posx;var Boom_Posy=PlayerList["9"].Posy;var Boom_Posx_1=PlayerList["0"].Posx;var Boom_Posy_1=PlayerList["0"].Posy;if(Boom_Posy_1<400){if(leidaid=="8"){id="10"}if(id=="0"){return}if(fangkongpaoCount>0){if(fangkongpaoCount%2==0){PlayerList[id].ImgDC.src=Fangp_base64[0]}else{PlayerList[id].ImgDC.src=Fangp2_base64[0]}fangkongpaoCount++;if(fangkongpaoCount>100){fangkongpaoCount=0;PlayerList[id].ImgDC.src=Fangp_base64[0]}}else{PlayerList[id].ImgDC.src=Fangp_base64[0]}if((Boom_Posx_1+50>Boom_Posx)&&(Boom_Posx>Boom_Posx_1-100)){if((Boom_Posy_1+120>Boom_Posy)&&(Boom_Posy>=Boom_Posy_1-100)){if(fangkongpaoCount==0){fangkongpaoCount++
}PlayerList["0"].Hp=PlayerList["0"].Hp-ShuiHangShu(500);if(PlayerList["0"].Hp<0){PlayerList["0"].Posx=30;PlayerList["0"].Posy=120;PlayerList["0"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan1++}}}}else{var Boom_Posx=PlayerList["8"].Posx;var Boom_Posy=PlayerList["8"].Posy;var Boom_Posx_1=PlayerList["0"].Posx;var Boom_Posy_1=PlayerList["0"].Posy;if(leidaid=="8"){id="11"}if(id=="0"){return}if(fangkongpaoCount2>0){if(fangkongpaoCount2%2==0){PlayerList[id].ImgDC.src=Fangp_base64[0]}else{PlayerList[id].ImgDC.src=Fangp2_base64[0]}fangkongpaoCount2++;if(fangkongpaoCount2>100){fangkongpaoCount2=0;PlayerList[id].ImgDC.src=Fangp_base64[0]}}else{PlayerList[id].ImgDC.src=Fangp_base64[0]}if((Boom_Posx_1+50>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+150>Boom_Posy)&&(Boom_Posy>=Boom_Posy_1-100)){if(fangkongpaoCount2==0){fangkongpaoCount2++}PlayerList["0"].Hp=PlayerList["0"].Hp-ShuiHangShu(500);if(PlayerList["0"].Hp<0){PlayerList["0"].Posx=30;PlayerList["0"].Posy=120;PlayerList["0"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan1++}}}}}return}function LeiDa_Sys15(leidaid,role_Kung,role_Gao){var id="0";if(true){var Boom_Posx=PlayerList["9"].Posx;var Boom_Posy=PlayerList["9"].Posy;var Boom_Posx_1=PlayerList["15"].Posx;var Boom_Posy_1=PlayerList["15"].Posy;if(Boom_Posy_1<400){if(leidaid=="9"){id="10"}if(id=="0"){return}if(fangkongpaoCount3>0){if(fangkongpaoCount3%2==0){PlayerList[id].ImgDC.src=Fangp_base64[0]}else{PlayerList[id].ImgDC.src=Fangp2_base64[0]}fangkongpaoCount3++;if(fangkongpaoCount3>100){fangkongpaoCount3=0;PlayerList[id].ImgDC.src=Fangp_base64[0]}}else{PlayerList[id].ImgDC.src=Fangp_base64[0]}if((Boom_Posx_1+50>Boom_Posx)&&(Boom_Posx>Boom_Posx_1-100)){if((Boom_Posy_1+120>Boom_Posy)&&(Boom_Posy>=Boom_Posy_1-100)){if(fangkongpaoCount3==0){fangkongpaoCount3++}PlayerList["15"].Hp=PlayerList["15"].Hp-ShuiHangShu(500);if(PlayerList["15"].Hp<0){PlayerList["15"].Posx=20;PlayerList["15"].Posy=450;PlayerList["15"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;
leveljisuan4++}}}}else{var Boom_Posx=PlayerList["8"].Posx;var Boom_Posy=PlayerList["8"].Posy;var Boom_Posx_1=PlayerList["15"].Posx;var Boom_Posy_1=PlayerList["15"].Posy;if(leidaid=="9"){id="11"}if(id=="0"){return}if(fangkongpaoCount4>0){if(fangkongpaoCount4%2==0){PlayerList[id].ImgDC.src=Fangp_base64[0]}else{PlayerList[id].ImgDC.src=Fangp2_base64[0]}fangkongpaoCount4++;if(fangkongpaoCount4>100){fangkongpaoCount4=0;PlayerList[id].ImgDC.src=Fangp_base64[0]}}else{PlayerList[id].ImgDC.src=Fangp_base64[0]}if((Boom_Posx_1+50>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+100>Boom_Posy)&&(Boom_Posy>=Boom_Posy_1-100)){if(fangkongpaoCount4==0){fangkongpaoCount4++}PlayerList["15"].Hp=PlayerList["15"].Hp-ShuiHangShu(500);if(PlayerList["15"].Hp<0){PlayerList["15"].Posx=20;PlayerList["15"].Posy=450;PlayerList["15"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan4++}}}}}return}function LeiDa_Sysbak(leidaid,roleid){var id="0";if(true){var Boom_Posx=PlayerList["9"].Posx;var Boom_Posy=PlayerList["9"].Posy;var Boom_Posx_1=PlayerList[roleid].Posx;var Boom_Posy_1=PlayerList[roleid].Posy;if(Boom_Posy_1<400){if(leidaid=="9"||leidaid=="8"){id="10"}if(id=="0"){return}if(fangkongpaoCount3>0){if(fangkongpaoCount3%2==0){PlayerList[id].ImgDC.src=Fangp_base64[0]}else{PlayerList[id].ImgDC.src=Fangp2_base64[0]}fangkongpaoCount3++;if(fangkongpaoCount3>100){fangkongpaoCount3=0;PlayerList[id].ImgDC.src=Fangp_base64[0]}}else{PlayerList[id].ImgDC.src=Fangp_base64[0]}if((Boom_Posx_1+50>Boom_Posx)&&(Boom_Posx>Boom_Posx_1-100)){if((Boom_Posy_1+120>Boom_Posy)&&(Boom_Posy>=Boom_Posy_1-100)){if(fangkongpaoCount3==0){fangkongpaoCount3++}PlayerList[roleid].Hp=PlayerList[roleid].Hp-ShuiHangShu(500);if(PlayerList[roleid].Hp<0){PlayerList[roleid].Posx=20;PlayerList[roleid].Posy=450;PlayerList[roleid].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan4++}}}}else{var Boom_Posx=PlayerList["8"].Posx;var Boom_Posy=PlayerList["8"].Posy;var Boom_Posx_1=PlayerList[roleid].Posx;var Boom_Posy_1=PlayerList[roleid].Posy;
if(leidaid=="9"||leidaid=="8"){id="11"}if(id=="0"){return}if(fangkongpaoCount4>0){if(fangkongpaoCount4%2==0){PlayerList[id].ImgDC.src=Fangp_base64[0]}else{PlayerList[id].ImgDC.src=Fangp2_base64[0]}fangkongpaoCount4++;if(fangkongpaoCount4>100){fangkongpaoCount4=0;PlayerList[id].ImgDC.src=Fangp_base64[0]}}else{PlayerList[id].ImgDC.src=Fangp_base64[0]}if((Boom_Posx_1+50>Boom_Posx)&&(Boom_Posx>Boom_Posx_1)){if((Boom_Posy_1+100>Boom_Posy)&&(Boom_Posy>=Boom_Posy_1-100)){if(fangkongpaoCount4==0){fangkongpaoCount4++}PlayerList[roleid].Hp=PlayerList[roleid].Hp-ShuiHangShu(500);if(PlayerList[roleid].Hp<0){PlayerList[roleid].Posx=20;PlayerList[roleid].Posy=450;PlayerList[roleid].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan4++}}}}}return}function JiFeiQu(){if(PlayerList["0"].Posx>910&&PlayerList["0"].Posx<1200){PlayerList["0"].Hp=PlayerList["0"].Hp-ShuiHangShu(50);if(PlayerList["0"].Hp<0){PlayerList["0"].Posx=30;PlayerList["0"].Posy=120;PlayerList["0"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan1++}}else{if(PlayerList["1"].Posx>910&&PlayerList["1"].Posx<1200){PlayerList["1"].Hp=PlayerList["1"].Hp-ShuiHangShu(50);if(PlayerList["1"].Hp<0){PlayerList["1"].Posx=20;PlayerList["1"].Posy=200;PlayerList["1"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan2++}}else{if(PlayerList["14"].Posx>910&&PlayerList["14"].Posx<1200){PlayerList["14"].Hp=PlayerList["14"].Hp-ShuiHangShu(50);if(PlayerList["14"].Hp<0){PlayerList["14"].Posx=20;PlayerList["14"].Posy=400;PlayerList["14"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan3++}}else{if(PlayerList["15"].Posx>910&&PlayerList["15"].Posx<1200){PlayerList["15"].Hp=PlayerList["15"].Hp-ShuiHangShu(50);if(PlayerList["15"].Hp<0){PlayerList["15"].Posx=20;PlayerList["15"].Posy=450;PlayerList["15"].Hp=2000;PlayerList["2"].Hp=PlayerList["2"].Hp+2000;leveljisuan4++}}}}}};
